{% extends "student/result/base.html" %}
{% load static %}
{% block title %}IA Result{% endblock title %}

{% block style %}
    <link rel="stylesheet" href= "{% static 'css/student/ia.css' %}" >
{% endblock style %}

{% block user-name %}{{student.name}}{% endblock user-name %}

{% block main-content %}
<div class="main-content">
    <div class="ia">
        <h1 class="bold">Internal Assessment-1</h1>
        <div class="ia-table">
            <table>
                <tr>
                    <th>
                        Subjects
                    </th>
                    <th>
                        Marks for 60
                    </th>
                    <th>
                        Marks for 100
                    </th>
                </tr>
                {% for result in ia1  %}
                    <tr id="{{result}}" >
                        <td>{{result.exam.subject.name}}</td>
                        <td>{{result.marks}}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="ia">
        <h1 class="bold">Internal Assessment-2</h1>
        <div class="ia-table">
            <table>
                <tr>
                    <th>
                        Subjects

                    </th>
                    <th>
                        Marks for 60
                    </th>
                    <th>
                        Marks for 100
                    </th>
                </tr>
                {% for result in ia2  %}
                    <tr id="{{result}}">
                        <td>{{result.exam.subject.name}}</td>
                        <td>{{result.marks}}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="ia">
        <h1 class="bold">Internal Assessment-3</h1>
        <div class="ia-table">
            <table>
                <tr>
                    <th>
                        Subjects
                    </th>
                    <th>
                        Marks for 60
                    </th>
                    <th>
                        Marks for 100
                    </th>
                </tr>
                {% for result in ia3  %}
                    <tr id="{{result}}">
                        <td>{{result.exam.subject.name}}</td>
                        <td>{{result.marks}}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
</div>
{% endblock main-content %}

{% block js %}
<script>
    {% for result in ia1 %}
        var marks_for_60 = "{{result.marks}}";
        var marks_for_100 = Math.round(marks_for_60/60*100);
        var id = "{{result.exam.name}}-{{result.exam.subject.code}}-{{result.student}}";
        var ia1_row = document.getElementById(id);
        var ia1_row_data = document.createElement("td");
        ia1_row_data.innerText = marks_for_100;
        ia1_row.appendChild(ia1_row_data);
        if(marks_for_100<60){
            ia1_row.classList.add("fail");
        }
        else {
            ia1_row.classList.add("pass")
        }
    {% endfor %}
    {% for result in ia2 %}
        var marks_for_60 = "{{result.marks}}";
        var marks_for_100 = Math.round(marks_for_60/60*100);
        var id = "{{result.exam.name}}-{{result.exam.subject.code}}-{{result.student}}";
        var ia2_row = document.getElementById(id);
        var ia2_row_data = document.createElement("td");
        ia2_row_data.innerText = marks_for_100;
        ia2_row.appendChild(ia2_row_data);
        if(marks_for_100<60){
            ia2_row.classList.add("fail");
        }
        else {
            ia2_row.classList.add("pass")
        }
    {% endfor %}
    {% for result in ia3 %}
        var marks_for_60 = "{{result.marks}}";
        var marks_for_100 = Math.round(marks_for_60/60*100);
        var id = "{{result.exam.name}}-{{result.exam.subject.code}}-{{result.student}}";
        var ia3_row = document.getElementById(id);
        var ia3_row_data = document.createElement("td");
        ia3_row_data.innerText = marks_for_100;
        ia3_row.appendChild(ia3_row_data);
        if(marks_for_100<60){
            ia3_row.classList.add("fail");
        }
        else {
            ia3_row.classList.add("pass");
        }
    {% endfor %}
</script>
{% endblock js %}