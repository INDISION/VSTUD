{% extends "student/result/base.html" %}
{% load static %}
{% block title %}IA Result{% endblock title %}

{% block style %}
    <link rel="stylesheet" href= "{% static 'css/student/ia.css' %}" >
{% endblock style %}


{% block main-content %}
<div class="main-content">
    {% if ia1 %}
        <div class="ia" id="ia1">
            <h1 class="bold">Internal Assessment-1</h1>
            <div class="ia-table">
                <table>
                    <tr>
                        <th>Subject Code</th>
                        <th>
                            Subject
                        </th>
                        <th>
                            Marks for 100
                        </th>
                    </tr>
                    {% for result in ia1  %}
                        <tr id="{{result}}" >
                            <td class="uppercase">{{result.exam.subject.code}}</td>
                            <td class="uppercase">{{result.exam.subject.name}}</td>
                            <td>{{result.marks}}</td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    {% endif %}
    {% if ia2 %}
        <div class="ia" id="ia2">
            <h1 class="bold">Internal Assessment-2</h1>
            <div class="ia-table">
                <table>
                    <tr>
                        <th>Subject Code</th>
                        <th>
                            Subject
                        </th>
                        <th>
                            Marks for 100
                        </th>
                    </tr>
                    {% for result in ia2  %}
                        <tr id="{{result}}" >
                            <td class="uppercase">{{result.exam.subject.code}}</td>
                            <td class="uppercase">{{result.exam.subject.name}}</td>
                            <td>{{result.marks}}</td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    {% endif %}
    {% if ia3 %}
        <div class="ia" id="ia3">
            <h1 class="bold">Internal Assessment-3</h1>
            <div class="ia-table">
                <table>
                    <tr>
                        <th>Subject Code</th>
                        <th>
                            Subject
                        </th>
                        <th>
                            Marks for 100
                        </th>
                    </tr>
                    {% for result in ia3  %}
                        <tr id="{{result}}" >
                            <td class="uppercase">{{result.exam.subject.code}}</td>
                            <td class="uppercase">{{result.exam.subject.name}}</td>
                            <td>{{result.marks}}</td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    {% endif %}
</div>
{% endblock main-content %}

{% block js %}
<script>
    {% for result in ia1 %}
        var marks = "{{result.marks}}";
        var id = "{{result.exam.name}}-{{result.exam.subject.code}}-{{result.student}}";
        var ia1_row = document.getElementById(id);
        if(marks<60){
            ia1_row.classList.add("fail");
        }
        else {
            ia1_row.classList.add("pass")
        }
    {% endfor %}
    {% for result in ia2 %}
        var marks = "{{result.marks}}";
        var id = "{{result.exam.name}}-{{result.exam.subject.code}}-{{result.student}}";
        var ia2_row = document.getElementById(id);
        if(marks<60){
            ia2_row.classList.add("fail");
        }
        else {
            ia2_row.classList.add("pass")
        }
    {% endfor %}
    {% for result in ia3 %}
        var marks = "{{result.marks}}";
        var id = "{{result.exam.name}}-{{result.exam.subject.code}}-{{result.student}}";
        var ia3_row = document.getElementById(id);
        if(marks<60){
            ia3_row.classList.add("fail");
        }
        else {
            ia3_row.classList.add("pass");
        }
    {% endfor %}
</script>
{% endblock js %}